# プロダクト概要

Polar を決済基盤とした動画サブスクリプションサービス。Better Auth による認証と Polar によるサブスクリプション管理を統合し、有料動画コンテンツへのアクセス制御を提供する。

## コア機能

1. **多段階認証** -- メール/パスワード、GitHub OAuth、Google OAuth、匿名（ゲスト）ログイン
2. **サブスクリプション決済** -- Polar ホスト型チェックアウト、カスタマーポータル、状態管理
3. **動画アクセス制御** -- 無料/有料コンテンツの出し分け（サブスク連動）
4. **型安全 API** -- tRPC による認証・サブスク状態に応じたプロシージャ階層

## 対象ユースケース

- 動画コンテンツクリエイターがサブスクリプション型で有料配信する
- 無料コンテンツで集客し、有料プランへ誘導する
- ユーザーが自身のサブスクリプションをポータルで管理する

## 価値提案

- Webhook 不要の決済統合（Polar + Better Auth プラグイン連携）
- 認証からサブスクまでワンストップで型安全に構築
- Next.js App Router + tRPC による高速なフルスタック開発

## 現在の実装状態

- **Phase 1-3 完了**: 認証（GitHub/Google OAuth）、tRPC API 基盤、Polar サブスクリプション統合
- **オンボーディング完了**: ジャンル選択（最大3つ）、DBスキーマ（genres テーブル、users.onboardingCompleted）
- **Docker 完了**: 開発/本番環境の Dockerfile + docker-compose.yml
- **Playwright E2E テスト導入済み**
- **次の実装対象**: メインページ YouTube 動画グリッド表示（`.kiro/specs/youtube-video-grid/`）

## 拡張ビジョン

MVP（動画基盤）を起点に段階的に拡張する:
- **v1.1**: UX 強化 -- 視聴履歴、お気に入り、コメント
- **v1.2**: AI 連携 -- 動画要約、チャプター自動生成、検索・フィルタ
- **v2.0**: 本番化 -- Docker、AWS ECS、複数プラン、実決済

詳細は `docs/PLAN.md` を参照。

---
_パターンと目的に焦点を当て、機能の網羅的リストではない_
